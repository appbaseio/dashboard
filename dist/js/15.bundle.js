(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{329:function(e,t,a){"use strict";t.__esModule=!0;var n=y(a(1)),r=a(364),o=y(a(142)),s=y(a(381)),i=a(16),l=a(374),u=y(a(573)),c=y(a(366)),p=y(a(797)),d=y(a(796)),f=y(a(795)),h=y(a(794)),m=y(a(793)),g=a(413),b=y(a(577));function y(e){return e&&e.__esModule?e:{default:e}}var w=r.Tabs.TabPane,x=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));n.changeActiveTabKey=function(e){n.setState({activeTabKey:e},function(){return n.redirectTo(e)})},n.redirectTo=function(e){window.history.pushState(null,null,window.location.origin+"/analytics/"+n.pageInfo.appName+"/"+e)},n.tabKeys=["analytics","popularSearches","noResultSearches","popularResults","popularFilters","requestLogs"],n.state={isFetching:!0,noResults:[],popularSearches:[],popularResults:[],popularFilters:[],searchVolume:[],isPaidUser:!1,currentPlan:void 0,activeTabKey:n.tabKeys.includes(a.params.tab)?a.params.tab:n.tabKeys[0]};var r=a.params.appId;return n.appId=i.appbaseService.userInfo.body.apps[r],n.pageInfo={currentView:"analytics",appName:r,appId:n.appId},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;(0,g.checkUserStatus)().then(function(t){t.isPaidUser?e.setState({isPaidUser:t.isPaidUser,currentPlan:t.plan},function(){(0,l.getAnalytics)(e.pageInfo.appName,e.state.currentPlan).then(function(t){e.setState({noResults:t.noResultSearches,popularSearches:t.popularSearches,searchVolume:t.searchVolume,popularResults:t.popularResults,popularFilters:t.popularFilters,isFetching:!1})}).catch(function(){e.setState({isFetching:!1})})}):e.setState({isFetching:!1,isPaidUser:!1})},function(){e.setState({isFetching:!1}),toastr.error("Error","Something went wrong")})},t.prototype.componentWillReceiveProps=function(e){(0,o.default)(e,"location.pathname")!==(0,o.default)(this.props,"location.pathname")&&window.location.reload()},t.prototype.render=function(){var e=this,t=this.state,a=t.noResults,o=t.popularSearches,i=t.searchVolume,g=t.popularResults,y=t.popularFilters,x=t.isFetching,v=t.isPaidUser,E=t.activeTabKey,_=t.currentPlan;if(x){var k=n.default.createElement(r.Icon,{type:"loading",style:{fontSize:50,marginTop:"250px"},spin:!0});return n.default.createElement(s.default,{pageInfo:this.pageInfo,key:this.appId},n.default.createElement(c.default,{justifyContent:"center",alignItems:"center"},n.default.createElement(r.Spin,{indicator:k})))}return n.default.createElement(s.default,{pageInfo:this.pageInfo,key:this.appId},n.default.createElement("div",{className:"ad-detail-page ad-dashboard row",style:{padding:"40px"}},v?n.default.createElement(n.default.Fragment,null,l.bannerMessages[_]&&n.default.createElement(u.default,l.bannerMessages[_]),n.default.createElement(r.Tabs,{onTabClick:this.changeActiveTabKey,activeKey:E},n.default.createElement(w,{tab:"Analytics",key:this.tabKeys[0]},n.default.createElement(p.default,{loading:x,noResults:a,plan:_,popularSearches:o,popularFilters:y,popularResults:g,searchVolume:i,redirectTo:function(t){return e.changeActiveTabKey(t)}})),n.default.createElement(w,{tab:"Popular Searches",key:this.tabKeys[1]},n.default.createElement(d.default,{plan:_,appName:this.pageInfo.appName})),n.default.createElement(w,{tab:"No Result Searches",key:this.tabKeys[2]},n.default.createElement(f.default,{plan:_,appName:this.pageInfo.appName})),"growth"===_&&n.default.createElement(w,{tab:"Popular Results",key:this.tabKeys[3]},n.default.createElement(h.default,{plan:_,appName:this.pageInfo.appName})),"growth"===_&&n.default.createElement(w,{tab:"Popular Filters",key:this.tabKeys[4]},n.default.createElement(m.default,{plan:_,appName:this.pageInfo.appName})),n.default.createElement(w,{tab:"Request Logs",key:this.tabKeys[5]},n.default.createElement(b.default,{tab:this.props.params.subTab,appName:this.pageInfo.appName,redirectTo:this.redirectTo})))):n.default.createElement(u.default,l.bannerMessages.free)))},t}(n.default.Component);t.default=x},366:function(e,t,a){"use strict";t.__esModule=!0;var n=a(345);var r=(0,function(e){return e&&e.__esModule?e:{default:e}}(n).default)("div",{target:"e1tnvnpn0"})("display:flex;flex-direction:",function(e){return e.flexDirection||"row"},";",function(e){var t=e.alignItems;return t&&(0,n.css)("align-items:",t,";")},";",function(e){var t=e.justifyContent;return t&&(0,n.css)("justify-content:",t,";")},";");t.default=r},374:function(e,t,a){"use strict";t.__esModule=!0,t.bannerMessages=t.requestLogs=t.popularResultsFull=t.popularSearchesFull=t.defaultColumns=t.popularResultsCol=t.popularFiltersCol=t.getTimeDuration=void 0;var n=a(140);t.getAnalytics=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new Promise(function(n,r){var o="growth"===t?s.ACC_API+"/analytics/"+e+"/advanced":s.ACC_API+"/analytics/"+e+"/overview",i=c({clickanalytics:a});fetch(o+i,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){n(e)}).catch(function(e){r(e)})})},t.getPopularSearches=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(a,n){fetch(s.ACC_API+"/analytics/"+e+"/popularsearches"+c({clickanalytics:t}),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a(e.popularSearches)}).catch(function(e){n(e)})})},t.getNoResultSearches=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(a,n){fetch(s.ACC_API+"/analytics/"+e+"/noresultsearches"+c({clickanalytics:t}),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a(e.noResultSearches)}).catch(function(e){n(e)})})},t.getPopularResults=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(a,n){fetch(s.ACC_API+"/analytics/"+e+"/popularResults"+c({clickanalytics:t}),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a(e.popularResults)}).catch(function(e){n(e)})})},t.getPopularFilters=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise(function(a,n){fetch(s.ACC_API+"/analytics/"+e+"/popularFilters"+c({clickanalytics:t}),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){a(e.popularFilters)}).catch(function(e){n(e)})})},t.getRequestLogs=function(e){return new Promise(function(t,a){fetch(s.ACC_API+"/app/"+e+"/logs",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){t(e)}).catch(function(e){a(e)})})};var r=l(a(1)),o=l(a(368)),s=a(94),i=l(a(366));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,n.css)("color:#00ff88;text-transform:uppercase;font-weight:500;padding:5px 10px;border-radius:3px;border:solid 1px #00ff88;"),c=function(e){var t="";return Object.keys(e).forEach(function(a,n){t=0===n?"?"+a+"="+e[a]:"&"+a+"="+e[a]}),t},p=(t.getTimeDuration=function(e){var t=o.default.duration((0,o.default)().diff(e)).asMilliseconds();if(t>=864e5){var a=parseInt(t/864e5,10);return{unit:"day",time:a,formattedUnit:a>1?"days":"day"}}if(t>=36e5){var n=parseInt(t/36e5,10);return{unit:"hr",time:n,formattedUnit:n>1?"hrs":"hr"}}if(t>=6e4){var r=parseInt(t/6e4,10);return{unit:"min",time:r,formattedUnit:r>1?"mins":"min"}}if(t>=1e3){var s=parseInt(t/1e3,10);return{unit:"sec",time:s,formattedUnit:s>1?"secs":"sec"}}return{unit:"ms",time:parseInt(t/1e3,10)}},t.popularFiltersCol=function(e){return e&&"free"!==e?[{title:"Polpular Filters",dataIndex:"key"},{title:"Impressions",dataIndex:"count"},{title:"Click Rate",dataIndex:"clickrate"}]:[{title:"Polpular Filters",dataIndex:"key"},{title:"Impressions",dataIndex:"count"}]},t.popularResultsCol=function(e){return e&&"free"!==e?[{title:"Polpular Results",dataIndex:"key"},{title:"Impressions",dataIndex:"count"},{title:"Click Rate",dataIndex:"clickrate"}]:[{title:"Polpular Results",dataIndex:"key"},{title:"Impressions",dataIndex:"count"}]},t.defaultColumns=function(e){return e&&"free"!==e?[{title:"Search Terms",dataIndex:"key"},{title:"Total Queries",dataIndex:"count"},{title:"Click Rate",dataIndex:"clickrate"}]:[{title:"Search Terms",dataIndex:"key"},{title:"Total Queries",dataIndex:"count"}]});t.popularSearchesFull=function(e){return e&&"free"!==e?[].concat(p(e),[{title:"Clicks",dataIndex:"clicks"},{title:"Click Position",dataIndex:"clickposition"},{title:"Conversion Rate",dataIndex:"conversionrate"}]):p(e)},JSON.stringify({random:"a",stuff:"b"}),JSON.stringify({random:"a",stuff:"b"}),t.popularResultsFull=function(e){return"free"===e?p(e):[].concat(p(e),[{title:"Clicks",dataIndex:"clicks",key:"clicks"},{title:"Source",dataIndex:"source",key:"source"},{title:"Conversion Rate",dataIndex:"conversionrate",key:"conversionrate"}])},t.requestLogs=[{title:"Operation",dataIndex:"operation",render:function(e){return r.default.createElement("div",null,r.default.createElement(i.default,null,r.default.createElement("div",{className:(0,n.css)("width:70px")},r.default.createElement("span",{className:(0,n.css)(u)},e.method)),r.default.createElement("div",null,r.default.createElement("span",{className:(0,n.css)("color:#74A2FF;margin-left:10px")},e.uri))))}},{title:"Classifier",dataIndex:"classifier"},{title:"Time",dataIndex:"timeTaken"},{title:"Status",dataIndex:"status"}];t.bannerMessages={free:{title:"Unlock the ROI impact of your search",description:"Get a paid plan to see actionable analytics on search volume, popular searches, no results, track clicks and conversions.",buttonText:"Upgrade Now",href:"/billing"},bootstrap:{title:"Get richer analytics on clicks and conversions",description:"By upgrading to the Growth plan, you can get more actionable analytics on popular filters, popular results, and track clicks and conversions along with a 30-day retention.",buttonText:"Upgrade To Growth",href:"/billing",isHorizontal:!0},growth:{title:"Learn how to track click analytics",description:"See our docs on how to track search, filters, click events, conversions and your own custom events.",buttonText:"Read Docs",isHorizontal:!0,href:"https://docs.appbase.io"}}},380:function(e,t,a){"use strict";t.__esModule=!0;var n=a(1),r=p(n),o=a(39),s=p(a(36)),i=p(a(141)),l=a(38),u=p(a(93)),c=a(16);function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.config=u.default,n.contextPath=c.appbaseService.getContextPath(),n.state={activeApp:n.props.appName},n.stopUpdate=!1,n.links=[{label:"Dashboard",link:n.contextPath+"dashboard/",type:"internal",name:"dashboard",tooltip:"View app usage stats",img:r.default.createElement("img",{className:"img-responsive",alt:"dashboard",src:"../../../assets/images/"+n.config.name+"/sidebar/dashboard.svg"})},{label:"Mappings",link:n.contextPath+"mappings/",type:"internal",name:"mappings",tooltip:"View or update mappings",img:r.default.createElement("img",{className:"img-responsive",alt:"mappings",src:"../../../assets/images/"+n.config.name+"/sidebar/mapping.svg"})},{label:"Search Sandbox",link:n.contextPath+"search-sandbox/",type:"internal",name:"search-sandbox",tooltip:"Update search preferences",img:r.default.createElement("img",{className:"img-responsive",alt:"search-sandbox",src:"../../../assets/images/"+n.config.name+"/sidebar/dashboard.svg"})},{label:"Browser",link:n.contextPath+"browser/",type:"internal",name:"browser",tooltip:"Create, view and manage app data",img:r.default.createElement("img",{className:"img-responsive",alt:"browser",src:"../../../assets/images/"+n.config.name+"/sidebar/browser.svg"})},{label:"Analytics",link:n.contextPath+"analytics/",type:"internal",name:"analytics",tooltip:"View app analytics",img:r.default.createElement("img",{className:"img-responsive",alt:"analytics",src:"../../../assets/images/"+n.config.name+"/sidebar/dashboard.svg"})},{label:"Credentials",link:n.contextPath+"credentials/",type:"internal",name:"credentials",tooltip:"View and manage API access credentials",img:r.default.createElement("img",{className:"img-responsive",alt:"credentials",src:"../../../assets/images/"+n.config.name+"/sidebar/credentials.svg"})},{label:"Team",link:n.contextPath+"team/",type:"internal",name:"team",tooltip:"Manage who can access your app data",img:r.default.createElement("img",{className:"img-responsive",alt:"team",src:"../../../assets/images/"+n.config.name+"/sidebar/team.svg"})}],n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.changeView=function(e){this.props.changeView(e)},t.prototype.componentWillMount=function(){var e=this;this.listenEvent=l.eventEmitter.addListener("activeApp",function(t){e.stopUpdate||e.setState(t)})},t.prototype.componentDidMount=function(){var e=this,t=function(){$(".ad-detail").css({"min-height":$(e.sidebarRef).height()+30})};setTimeout(t.bind(this),1e3),$(window).resize(t.bind(this))},t.prototype.componentWillUnmount=function(){this.stopUpdate=!0,this.listenEvent&&this.listenEvent.remove(),$(window).unbind("resize")},t.prototype.renderElement=function(e){var t=this,a=null;switch(e){case"links":a=this.links.filter(function(e){return t.config.appDashboard.indexOf(e.name)>-1}).map(function(e,a){var n=(0,s.default)({active:t.props.currentView===e.name}),l=r.default.createElement("div",{className:"img-container"},e.img),u=r.default.createElement(o.Link,{className:n,to:e.link+t.state.activeApp},l,r.default.createElement("span",{className:"ad-detail-sidebar-item-label"},e.label));return r.default.createElement(i.default,{overlay:r.default.createElement("div",null,e.tooltip),mouseLeaveDelay:0,key:e.name+"-"+(a+1)},r.default.createElement("li",{className:"ad-detail-sidebar-item",key:e.name+"-item-"+(a+1)},u))})}return a},t.prototype.render=function(){var e=this;return r.default.createElement("aside",{className:"ad-detail-sidebar"},r.default.createElement("ul",{className:"ad-detail-sidebar-container",ref:function(t){e.sidebarRef=t}},this.renderElement("links")))},t}(n.Component);t.default=d},381:function(e,t,a){"use strict";t.__esModule=!0;var n=u(a(0)),r=a(1),o=u(r),s=u(a(380)),i=u(a(93)),l=a(16);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){return o.default.createElement("div",{className:"page404"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col s12"},o.default.createElement("i",{className:"fa fa-exclamation-triangle"}),"Â  Seems like this app view doesn","'","t exist or you don","'","t have access to it.")),o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col s12"},"Go to"," ",o.default.createElement("a",{href:"/apps"},"/apps",o.default.createElement("i",{className:"fa fa-cursor"})))))},p=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.state={showChild:!1},n.selectedApp=n.props.pageInfo.appName,n.config=i.default,n.getAllApps(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillReceiveProps=function(){this.props.pageInfo.appName!==this.selectedApp&&(this.selectedApp=this.props.pageInfo.appName,this.getAllApps())},t.prototype.isAllowed=function(){this.config.appDashboard.indexOf(this.props.pageInfo.currentView)<0&&l.appbaseService.pushUrl("./apps")},t.prototype.getAllApps=function(){var e=this;l.appbaseService.allApps(!0).then(function(t){var a=t.body.filter(function(t){return e.props.pageInfo.appName===t.appname});e.setState({showChild:!(!a||!a.length)||null})})},t.prototype.render=function(){this.isAllowed();var e=o.default.Children.map(this.props.children,function(e){return o.default.cloneElement(e,{})});return o.default.createElement("div",{className:"ad-detail row"},o.default.createElement(s.default,{currentView:this.props.pageInfo.currentView,appName:this.props.pageInfo.appName,appId:this.props.pageInfo.appId}),o.default.createElement("div",{className:"ad-detail-view-container"},o.default.createElement("div",{className:"ad-detail-view"},this.state.showChild?e:null,null===this.state.showChild?o.default.createElement(c,null):null)))},t}(r.Component);t.default=p,p.propTypes={pageInfo:n.default.shape({currentView:n.default.string.isRequired,appName:n.default.string.isRequired,appId:n.default.oneOfType([n.default.number.isRequired,n.default.string.isRequired])})},p.defaultProps={}},382:function(e,t,a){"use strict";t.__esModule=!0,t.ErrorLogger=t.Input=t.deleteBtn=t.Button=t.Footer=t.subItem=t.item=t.dropdown=t.title=t.row=t.heading=t.Header=t.HeaderWrapper=t.card=void 0;var n=a(345),r=function(e){return e&&e.__esModule?e:{default:e}}(n);t.card=(0,n.css)("width:100%;max-width:980px;margin:25px auto;background-color:#fff;border-radius:3px;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);box-sizing:border-box;i{margin:3px 3px 0px 8px;}"),t.HeaderWrapper=(0,r.default)("div",{target:"e1tvtz600"})("display:flex;flex-direction:column;align-items:flex-start;justify-content:center;p{font-size:13px;margin:6px 0 0;color:#999;}"),t.Header=(0,r.default)("header",{target:"e1tvtz601"})("display:flex;flex-direction:row;justify-content:space-between;font-weight:600;padding-top:20px;.col{min-width:150px;display:inline-flex;margin:0 0 0 12px;text-align:center;&:first-child{margin:0;}&.col--grow{flex-grow:1;}}"),t.heading=(0,n.css)("font-size:16px;letter-spacing:0.015rem;font-weight:600;margin:0;padding:0;"),t.row=(0,n.css)("box-sizing:border-box;background-color:rgba(0,0,0,0.02);padding:15px 0 15px 15px;margin:15px 0;border:1px solid rgba(0,0,0,0.05);"),t.title=(0,n.css)("font-size:15px;letter-spacing:0.015rem;font-weight:600;margin:0 0 12px 0;padding:0;"),t.dropdown=(0,n.css)("width:auto;min-width:150px;height:34px;border:1px solid #f8f8f8;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);background-color:#fff;border-radius:2px;outline-color:#c7f4ff;margin-left:12px;padding:6px 15px 6px 6px;text-transform:capitalize;"),t.item=(0,n.css)("display:flex;flex-direction:row;justify-content:space-between;padding:10px;margin-bottom:2px;align-items:center;background-color:rgba(255,255,255,0.8);"),t.subItem=(0,n.css)("display:flex;flex-direction:row;align-items:center;"),t.Footer=(0,r.default)("footer",{target:"e1tvtz602"})("position:sticky;bottom:0;width:100%;height:66px;box-shadow:0 -3px 5px 0 rgba(0,0,0,0.02);background-color:#fff;transition:all .3s ease;border-bottom-left-radius:3px;border-bottom-right-radius:3px;padding:0 20px;display:flex;flex-direction:row-reverse;align-items:center;"),t.Button=(0,r.default)("a",{target:"e1tvtz603"})("display:inline-flex;height:42px;padding:0 20px;justify-content:center;align-items:center;color:#53683b;font-weight:600;background-color:",function(e){return e.ghost?"#efefef":"#b6ef7e"},";;text-transform:uppercase;box-shadow:0 3px 3px 0 rgba(0,0,0,0.1);cursor:pointer;margin-left:12px;&:hover,&:focus{background-color:",function(e){return e.ghost?"#fafafa":"#c3f295"},";box-shadow:0 5px 5px 0 rgba(0,0,0,0.1);text-decoration:none;}"),t.deleteBtn=(0,n.css)("display:flex;flex-grow:1;alignItems:center;flex-direction:row;cursor:pointer;span{max-width:calc(100% - 40px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}a{display:none;cursor:pointer;color:#444;margin-left:15px;transition:all .3s ease;}&:hover a,&:focus a{display:inline;&:hover,&:focus{color:#222;}}"),t.Input=(0,r.default)("input",{target:"e1tvtz604"})("diplay:flex;flex-grow:1;min-width:150px;height:34px;border:1px solid #f8f8f8;box-shadow:0 3px 5px 0 rgba(0,0,0,0.05);background-color:#fff;border-radius:2px;outline-color:#c7f4ff;padding:5px;"),t.ErrorLogger=(0,r.default)("pre",{target:"e1tvtz605"})("height:auto;max-height:200px;overflow-y:scroll;width:100%;background-color:#eee;padding:10px;font-family:monospace;font-size:14px;")},413:function(e,t,a){"use strict";t.__esModule=!0,t.getCredentials=function(e){return new Promise(function(t,a){fetch(n+"/app/"+e+"/permissions",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var a=e.body.find(function(e){return e.read&&e.write&&e.referers.includes("*")&&e.include_fields.includes("*")});a||(a=e.body.find(function(e){return e.read&&e.write&&e.referers.includes("*")})),a||(a=e.body.find(function(e){return e.read&&e.write})),a||(a=e.body.find(function(e){return e.read})),t(a)}).catch(function(e){a(e)})})},t.checkUserStatus=function(){return new Promise(function(e,t){fetch(n+"/user",{method:"GET",credentials:"include",headers:{"content-type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return e.body.c_id?e.body.c_id:(t(),null)}).then(o).then(function(e){return e.json()}).then(function(t){t.plan&&"free"!==t.plan||e({isPaidUser:!1,plan:"free"}),e({isPaidUser:!0,plan:t.plan})}).catch(function(){t()})})};var n=t.ACC_API="https://accapi.appbase.io",r=(t.SCALR_API="https://scalr.api.appbase.io",t.BILLING_API="https://transactions.appbase.io");function o(e){return fetch(r+"/api/me",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({c_id:e})})}},421:function(e,t,a){"use strict";t.__esModule=!0;var n=s(a(1)),r=a(364),o=s(a(366));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=n.default.createElement(r.Icon,{type:"loading",style:{fontSize:50,marginTop:"250px"},spin:!0});return n.default.createElement(o.default,{justifyContent:"center",alignItems:"center"},n.default.createElement(r.Spin,{indicator:e}))}},439:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140);t.default={formLabel:(0,n.css)("font-weight:500;color:black;font-size:14px;"),subHeader:(0,n.css)("margin-left:10px;font-weight:100;font-size:14px;"),addedWhiteList:(0,n.css)("background-color:#fbfcfe;border:solid 1px #83a2ee;border-radius:2px;padding:5px 10px;color:#343e54;margin-bottom:15px;width:100%;"),description:(0,n.css)("font-size:12px,font-weight:100;"),serachResultsCls:(0,n.css)("border:solid 1px #d9d9d9;border-top:none;border-radius:3px;position:absolute;width:100%;background-color:#fff;z-index:1;"),error:(0,n.css)("color:red;font-size:12px;padding:5px;"),fieldBadge:(0,n.css)("margin-left:2px;font-size:10px;background-color:#a2a4aa;border-radius:3px;padding:1px 2px;color:#fff;"),overlay:(0,n.css)("position:absolute;top:160px;left:0;right:0;bottom:0;background-color:rgba(255,255,255,0.8);z-index:9999;color:black;"),upgradePlan:(0,n.css)("margin-top:200px;font-size:16px;font-weight:500;text-align:center;")}},440:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140),r=function(e){return e&&e.__esModule?e:{default:e}}(a(1)),o=a(364),s=a(374);var i=function(e){var t=e.title,a=e.dataSource,i=e.columns,l=e.showViewOption,u=e.onClick,c=e.plan;return r.default.createElement(o.Card,{title:t},r.default.createElement(o.Table,{rowKey:function(e){return e.key},dataSource:a,columns:i||(0,s.defaultColumns)(c),pagination:!1}),l&&r.default.createElement(o.Button,{onClick:function(){return u()},className:(0,n.css)("width:100%;height:50px;margin-top:10px;")},"VIEW ALL"))};i.defaultProps={showViewOption:!0},t.default=i},455:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140),r=u(a(1)),o=u(a(0)),s=a(364),i=u(a(439)),l=u(a(366));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.label,a=e.component,o=e.toolTipMessage;return r.default.createElement(l.default,{className:(0,n.css)("margin-top:30px")},r.default.createElement(l.default,{className:(0,n.css)("flex:25%")},r.default.createElement("div",null,r.default.createElement("span",{className:(0,n.css)(i.default.formLabel)},t,o&&r.default.createElement(s.Tooltip,{className:(0,n.css)("margin-left:5px;color:#898989"),overlay:o,mouseLeaveDelay:0},r.default.createElement("i",{className:"fas fa-info-circle"}))))),r.default.createElement(l.default,{className:(0,n.css)("flex:75%;margin-left:20px")},a))};c.propTypes={label:o.default.oneOfType([o.default.string,o.default.node]),component:o.default.node,toolTipMessage:o.default.any},t.default=c},573:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140),r=u(a(1)),o=a(364),s=u(a(0)),i=a(382),l=u(a(366));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,n.css)("font-size:30px;color:#212121;font-weight:500;"),p=(0,n.css)("font-size:16px;margin-top:5px;"),d=function(e){var t=e.title,a=e.description,s=e.buttonText,u=e.href,d=e.isHorizontal;return r.default.createElement(o.Card,{className:(0,n.css)("margin-bottom:20px")},r.default.createElement(l.default,{justifyContent:"space-between",flexDirection:d?"row":"column"},r.default.createElement(l.default,{flexDirection:"column"},r.default.createElement("div",{className:(0,n.css)(c)},t),r.default.createElement("div",{className:(0,n.css)(p)},a)),r.default.createElement(l.default,{className:(0,n.css)("flex:30%;min-width:300px"),justifyContent:d?"flex-end":void 0},r.default.createElement(i.Button,{className:(0,n.css)("margin-top:20px;margin:20px 0px;"),href:u,target:"_blank"},s))))};d.defaultProps={description:"",href:"/billing",buttonText:"Upgrade Now",isHorizontal:!1},d.propTypes={title:s.default.string.isRequired,description:s.default.string,buttonText:s.default.string,href:s.default.string,isHorizontal:s.default.bool},t.default=d},576:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140),r=u(a(1)),o=u(a(0)),s=a(364),i=u(a(455)),l=a(374);function u(e){return e&&e.__esModule?e:{default:e}}var c=s.Tabs.TabPane,p=(0,n.css)(".ant-modal-content{width:580px;}"),d=(0,n.css)("background-color:rgb(190,245,255,0.1);"),f=function(e){var t=e.show,a=e.handleCancel,o=e.time,u=e.method,f=e.url,h=e.ip,m=e.processingTime,g=e.status,b=e.headers,y=e.request,w=e.response,x=(0,l.getTimeDuration)(m);return r.default.createElement(s.Modal,{style:{width:"600px"},className:(0,n.css)(p),footer:[r.default.createElement(s.Button,{key:"back",onClick:a},"Cancel")],visible:t,onCancel:a},r.default.createElement("span",{className:(0,n.css)("font-weight:500;color:black;font-size:16px;")},"Log Details"),r.default.createElement(i.default,{label:"Time",component:o}),r.default.createElement(i.default,{label:"Method",component:u.toUpperCase()}),r.default.createElement(i.default,{label:"URL",component:f}),r.default.createElement(i.default,{label:"IP",component:h}),r.default.createElement(i.default,{label:"Response Code",component:g}),m&&r.default.createElement(i.default,{label:"Processing Time",component:x.time+" "+x.formattedUnit}),r.default.createElement(s.Tabs,{className:(0,n.css)("margin-top:30px"),animated:!1,defaultActiveKey:"response"},r.default.createElement(c,{tab:"Response",key:"response"},r.default.createElement("pre",{className:(0,n.css)(d)},JSON.stringify(w,null,2))),r.default.createElement(c,{tab:"Request",key:"request"},r.default.createElement("pre",{className:(0,n.css)(d)},JSON.stringify(y,null,2))),r.default.createElement(c,{tab:"Headers",key:"headers"},r.default.createElement("pre",{className:(0,n.css)(d)},JSON.stringify(b,0,2)))))};f.defaultProps={show:!1},f.propTypes={show:o.default.bool,handleCancel:o.default.func,time:o.default.string.isRequired,method:o.default.string.isRequired,url:o.default.string.isRequired,ip:o.default.string.isRequired,status:o.default.oneOfType([o.default.string,o.default.number]).isRequired,processingTime:o.default.string.isRequired,headers:o.default.object.isRequired,request:o.default.object.isRequired,response:o.default.object.isRequired},t.default=f},577:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140),r=d(a(1)),o=d(a(708)),s=d(a(142)),i=a(364),l=d(a(0)),u=a(374),c=d(a(576)),p=d(a(421));function d(e){return e&&e.__esModule?e:{default:e}}var f=i.Tabs.TabPane,h=function(e){return e.map(function(e){var t=(0,u.getTimeDuration)((0,s.default)(e,"_source.timestamp"));return{id:(0,s.default)(e,"_id"),operation:{method:(0,s.default)(e,"_source.request.method"),uri:(0,s.default)(e,"_source.request.uri")},classifier:(0,s.default)(e,"_source.classifier","").toUpperCase(),timeTaken:t.time+" "+t.formattedUnit+" ago",status:(0,s.default)(e,"_source.response.status")}})},m=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.changeActiveTabKey=function(e){n.setState({activeTabKey:e},function(){return n.redirectTo(e)})},n.redirectTo=function(e){n.props.changeUrlOnTabChange&&window.history.pushState(null,null,window.location.origin+"/analytics/"+n.props.appName+"/requestLogs/"+e)},n.handleLogClick=function(e){n.currentRequest=n.state.logs&&(0,o.default)(n.state.logs,function(t){return(0,s.default)(t,"_id")===e.id}),n.setState({showDetails:!0})},n.handleCancel=function(){n.setState({showDetails:!1})},n.tabKeys=["all","search","success","error"],n.state={activeTabKey:n.tabKeys.includes(a.tab)?a.tab:n.tabKeys[0],logs:void 0,isFetching:!0,hits:[],successHits:[],errorHits:[],searchHits:[],showDetails:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;(0,u.getRequestLogs)(this.props.appName).then(function(t){var a=function(){var e=[],t=[],a=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(n){var r=(0,s.default)(n,"_source.response.status");"search"===(0,s.default)(n,"_source.classifier")&&a.push(n),r>=200&&r<=300?e.push(n):t.push(n)}),{successHits:e,errorHits:t,searchHits:a}}(t.hits);e.setState({logs:t.hits,isFetching:!1,hits:h(t.hits),successHits:h(a.successHits),errorHits:h(a.errorHits),searchHits:h(a.searchHits)})}).catch(function(){e.setState({isFetching:!1})})},t.prototype.render=function(){var e=this,t=this.state,a=t.activeTabKey,o=t.hits,l=t.isFetching,d=t.showDetails,h=t.successHits,m=t.errorHits,g=t.searchHits;return l?r.default.createElement(p.default,null):r.default.createElement(i.Card,{title:"Latest Operations"},r.default.createElement(i.Tabs,{animated:!1,onTabClick:this.changeActiveTabKey,activeKey:a},r.default.createElement(f,{tab:"ALL",key:this.tabKeys[0]},r.default.createElement(i.Table,{className:(0,n.css)(".ant-table-row{cursor:pointer}"),rowKey:function(e){return e.id},dataSource:o,columns:u.requestLogs,pagination:!1,onRow:function(t){return{onClick:function(){return e.handleLogClick(t)}}}})),r.default.createElement(f,{tab:"SEARCH",key:this.tabKeys[1]},r.default.createElement(i.Table,{className:(0,n.css)(".ant-table-row{cursor:pointer}"),rowKey:function(e){return e.id},dataSource:g,columns:u.requestLogs,pagination:!1,onRow:function(t){return{onClick:function(){return e.handleLogClick(t)}}}})),r.default.createElement(f,{tab:"SUCCESS",key:this.tabKeys[2]},r.default.createElement(i.Table,{className:(0,n.css)(".ant-table-row{cursor:pointer}"),rowKey:function(e){return e.id},dataSource:h,columns:u.requestLogs,pagination:!1,onRow:function(t){return{onClick:function(){return e.handleLogClick(t)}}}})),r.default.createElement(f,{tab:"ERROR",key:this.tabKeys[3]},r.default.createElement(i.Table,{className:(0,n.css)(".ant-table-row{cursor:pointer}"),rowKey:function(e){return e.id},dataSource:m,columns:u.requestLogs,pagination:!1,onRow:function(t){return{onClick:function(){return e.handleLogClick(t)}}}}))),d&&this.currentRequest&&r.default.createElement(c.default,{show:d,handleCancel:this.handleCancel,headers:(0,s.default)(this.currentRequest,"_source.request.headers",{}),request:JSON.parse((0,s.default)(this.currentRequest,"_source.request.body")||null)||{},response:JSON.parse((0,s.default)(this.currentRequest,"_source.response.body")||null)||{},time:(0,s.default)(this.currentRequest,"_source.timestamp",""),method:(0,s.default)(this.currentRequest,"_source.request.method",""),url:(0,s.default)(this.currentRequest,"_source.request.uri",""),ip:(0,s.default)(this.currentRequest,"_source.request.headers.X-Forwarded-For[0]"),status:(0,s.default)(this.currentRequest,"_source.response.status",""),processingTime:(0,s.default)(this.currentRequest,"_source.response.timetaken","")}))},t}(r.default.Component);m.defaultProps={changeUrlOnTabChange:!0},m.propTypes={appName:l.default.string.isRequired,changeUrlOnTabChange:l.default.bool},t.default=m},584:function(e,t,a){"use strict";t.__esModule=!0;var n=s(a(1)),r=a(614),o=s(a(0));function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.data,a=e.height,o=e.width;return n.default.createElement(r.LineChart,{width:o,height:a,data:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){var t=e,a=new Date(e.key_as_string);return t.formatDate=a.getMonth()+1+"/"+a.getDate(),t})}(t),margin:{top:5,right:20,left:10,bottom:5}},n.default.createElement(r.XAxis,{dataKey:"formatDate"}),n.default.createElement(r.YAxis,{dataKey:"count"}),n.default.createElement(r.Tooltip,null),n.default.createElement(r.CartesianGrid,{stroke:"#f5f5f5"}),n.default.createElement(r.Line,{type:"monotone",dataKey:"count",stroke:"#ff7300"}))};i.propTypes={data:o.default.array,width:o.default.number,height:o.default.number},t.default=i},793:function(e,t,a){"use strict";t.__esModule=!0;var n=l(a(1)),r=l(a(0)),o=l(a(440)),s=a(374),i=l(a(421));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.state={isFetching:!0,popularFilters:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;(0,s.getPopularFilters)(this.props.appName).then(function(t){e.setState({popularFilters:t,isFetching:!1})}).catch(function(){e.setState({isFetching:!1})})},t.prototype.render=function(){return this.state.isFetching?n.default.createElement(i.default,null):n.default.createElement(o.default,{showViewOption:!1,columns:(0,s.popularSearchesFull)(this.props.plan),dataSource:this.state.popularFilters,title:"Popular Filters"})},t}(n.default.Component);u.propTypes={plan:r.default.string,appName:r.default.string},t.default=u},794:function(e,t,a){"use strict";t.__esModule=!0;var n=l(a(1)),r=l(a(0)),o=l(a(440)),s=a(374),i=l(a(421));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.state={isFetching:!0,popularResults:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;(0,s.getPopularResults)(this.props.appName).then(function(t){e.setState({popularResults:t,isFetching:!1})}).catch(function(){e.setState({isFetching:!1})})},t.prototype.render=function(){return this.state.isFetching?n.default.createElement(i.default,null):n.default.createElement(o.default,{showViewOption:!1,columns:(0,s.popularResultsFull)(this.props.plan),dataSource:this.state.popularResults,title:"Popular Results"})},t}(n.default.Component);u.propTypes={plan:r.default.string,appName:r.default.string},t.default=u},795:function(e,t,a){"use strict";t.__esModule=!0;var n=l(a(1)),r=l(a(0)),o=l(a(440)),s=a(374),i=l(a(421));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.state={isFetching:!0,noResults:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;(0,s.getNoResultSearches)(this.props.appName).then(function(t){e.setState({noResults:t,isFetching:!1})}).catch(function(){e.setState({isFetching:!1})})},t.prototype.render=function(){return this.state.isFetching?n.default.createElement(i.default,null):n.default.createElement(o.default,{showViewOption:!1,columns:(0,s.popularSearchesFull)(this.props.plan),dataSource:this.state.noResults,title:"No Results Searches"})},t}(n.default.Component);u.propTypes={plan:r.default.string,appName:r.default.string},t.default=u},796:function(e,t,a){"use strict";t.__esModule=!0;var n=l(a(1)),r=l(a(0)),o=l(a(440)),s=a(374),i=l(a(421));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return n.state={isFetching:!0,popularSearches:[]},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;(0,s.getPopularSearches)(this.props.appName).then(function(t){e.setState({popularSearches:t,isFetching:!1})}).catch(function(){e.setState({isFetching:!1})})},t.prototype.render=function(){return this.state.isFetching?n.default.createElement(i.default,null):n.default.createElement(o.default,{showViewOption:!1,columns:(0,s.popularSearchesFull)(this.props.plan),dataSource:this.state.popularSearches,title:"Popular Searches"})},t}(n.default.Component);u.propTypes={plan:r.default.string,appName:r.default.string},t.default=u},797:function(e,t,a){"use strict";t.__esModule=!0;var n=a(140),r=p(a(1)),o=a(364),s=p(a(0)),i=p(a(366)),l=a(374),u=p(a(440)),c=p(a(584));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.noResults,a=e.popularSearches,s=e.searchVolume,p=e.popularFilters,d=e.popularResults,f=e.plan,h=e.redirectTo;if(e.loading){var m=r.default.createElement(o.Icon,{type:"loading",style:{fontSize:24},spin:!0});return r.default.createElement(o.Spin,{indicator:m})}return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Card,{title:"Daily Search Volume"},r.default.createElement(c.default,{width:window.innerWidth-300,height:300,data:s})),r.default.createElement(i.default,{className:(0,n.css)("width:100%;margin-top:20px")},r.default.createElement("div",{className:(0,n.css)("flex:50%;margin-right:10px")},r.default.createElement(u.default,{onClick:function(){return h("popularSearches")},dataSource:a,title:"Popular Searches",plan:f})),r.default.createElement("div",{className:(0,n.css)("flex:50%;margin-left:10px")},r.default.createElement(u.default,{onClick:function(){return h("noResultSearches")},dataSource:t,title:"No Result Searches",plan:f}))),"growth"===f&&r.default.createElement(i.default,{className:(0,n.css)("width:100%;margin-top:50px")},r.default.createElement("div",{className:(0,n.css)("flex:50%;margin-right:10px")},r.default.createElement(u.default,{dataSource:d,columns:(0,l.popularResultsCol)(f),title:"Popular Results",onClick:function(){return h("popularResults")}})),r.default.createElement("div",{className:(0,n.css)("flex:50%;margin-left:10px")},r.default.createElement(u.default,{dataSource:p,columns:(0,l.popularFiltersCol)(f),title:"Popular Filters",onClick:function(){return h("popularFilters")}}))))};d.propTypes={noResults:s.default.array,popularSearches:s.default.array,plan:s.default.string.isRequired,searchVolume:s.default.array,popularResults:s.default.array,redirectTo:s.default.func,popularFilters:s.default.array},t.default=d}}]);